{"ast":null,"code":"var _jsxFileName = \"E:\\\\DoAn_2020\\\\SportTournamentSupportSystem\\\\frontEnd\\\\SportTournamentSupportSystem\\\\src\\\\components\\\\AllUsers\\\\index.tsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Skeleton from 'react-loading-skeleton';\nimport 'pagination.css';\nimport UserOverview from 'components/UserOverview';\nimport Paging from 'components/Paging';\nimport SheetData from 'components/SheetData';\nimport { searchUsers } from 'components/Header/actions';\nimport { formatGender, formatUserStatus } from 'utils/common';\nimport { queryListUsers, deActiveUser, activeUser } from './actions';\nimport './styles.css';\n\nclass AllUsers extends React.Component {\n  constructor(props) {\n    super(props);\n    this.configSheetData = void 0;\n\n    this.requestData = () => {\n      const params = {\n        path: '',\n        param: {\n          page: this.state.activePage,\n          limit: this.props.type === 'user' ? 3 : 10,\n          searchString: this.props.globalSearchString\n        },\n        data: {}\n      };\n      this.props.queryListUsers(params);\n    };\n\n    this.deActiveUser = id => {\n      const params = {\n        path: '',\n        param: {\n          id\n        },\n        data: {}\n      };\n      this.props.deActiveUser(params);\n    };\n\n    this.activeUser = id => {\n      const params = {\n        path: '',\n        param: {\n          id\n        },\n        data: {}\n      };\n      this.props.activeUser(params);\n    };\n\n    this.onChangeSelectedPage = pageNumber => {\n      this.setState({\n        activePage: pageNumber\n      }, () => {\n        if (this.props.globalSearchString !== '') {\n          const params = {\n            path: '',\n            param: {\n              page: pageNumber,\n              limit: this.props.type === 'user' ? 3 : 10,\n              searchString: this.props.globalSearchString\n            },\n            data: {}\n          };\n          this.props.searchUsers(params);\n        } else {\n          this.requestData();\n        }\n      });\n    };\n\n    this.state = {\n      activePage: 1\n    };\n    this.configSheetData = {\n      fixedColumnCount: 5,\n      fixedRowCount: 1,\n      rowHeight: 50,\n      fetchCount: 3,\n      header: [{\n        label: 'Cài đặt',\n        width: 120,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          className: 'AllUsers-button-text-hover',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }\n        }, rowData.status === 'active' ? /*#__PURE__*/React.createElement(\"p\", {\n          className: 'AllUsers-button-text',\n          onClick: () => this.deActiveUser(Number(rowData.id)),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 104\n          }\n        }, \"H\\u1EE7y k\\xEDch ho\\u1EA1t\") : /*#__PURE__*/React.createElement(\"p\", {\n          className: 'AllUsers-button-text',\n          onClick: () => this.activeUser(Number(rowData.id)),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 216\n          }\n        }, \"K\\xEDch ho\\u1EA1t\"))\n      }, {\n        label: 'Id',\n        width: 50,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }\n        }, rowData.id)\n      }, {\n        label: 'Họ',\n        width: 130,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }\n        }, rowData.lastName)\n      }, {\n        label: 'Tên',\n        width: 130,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }\n        }, rowData.firstName)\n      }, {\n        label: 'Tên đăng nhập',\n        width: 170,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }\n        }, rowData.username)\n      }, {\n        label: 'Trạng thái',\n        width: 120,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }\n        }, formatUserStatus(rowData.status))\n      }, {\n        label: 'Giới tính',\n        width: 70,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }\n        }, formatGender(rowData.gender))\n      }, {\n        label: 'Ngày sinh',\n        width: 130,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }\n        }, rowData.dob)\n      }, {\n        label: 'Email',\n        width: 300,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }\n        }, rowData.email)\n      }, {\n        label: 'Địa chỉ',\n        width: 300,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }\n        }, rowData.address)\n      }, {\n        label: 'Số điện thoại',\n        width: 200,\n        style: {\n          justifyContent: 'center'\n        },\n        element: (rowData, rowIndex, style) => /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }\n        }, rowData.phoneNumber)\n      }]\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.globalSearchString !== nextProps.globalSearchString && nextProps.globalSearchString === '') {\n      this.requestData();\n    }\n\n    return true;\n  }\n\n  componentDidMount() {\n    if (this.props.globalSearchString === '') {\n      this.requestData();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"AllUsers-container-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"AllUsers-header-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \"Danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng\"), this.props.globalSearchString !== '' && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"AllUsers-search-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 50\n      }\n    }, \"K\\u1EBFt qu\\u1EA3 t\\xECm ki\\u1EBFm cho: \\\"\", this.props.globalSearchString, \"\\\"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.props.type === 'user' ? 'AllUsers-container' : 'AllUsers-container-admin'}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }, this.props.listUsers && this.props.listUsers.Users ? this.props.listUsers.Users.length > 0 ? this.props.type === 'user' ? this.props.listUsers.Users.map((item, index) => /*#__PURE__*/React.createElement(UserOverview, {\n      info: item,\n      index: index,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 30\n      }\n    })) : /*#__PURE__*/React.createElement(SheetData, {\n      config: this.configSheetData,\n      data: this.props.listUsers.Users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 88\n      }\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 182\n      }\n    }, \"Kh\\xF4ng t\\xECm th\\u1EA5y k\\u1EBFt qu\\u1EA3 n\\xE0o!\") : /*#__PURE__*/React.createElement(Skeleton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Paging, {\n      currentPage: this.state.activePage,\n      totalPage: this.props.listUsers != null ? this.props.listUsers.TotalPage : 0,\n      onChangeSelectedPage: this.onChangeSelectedPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    listUsers: state.listUsers,\n    globalSearchString: state.globalSearchString\n  };\n};\n\nexport default connect(mapStateToProps, {\n  queryListUsers,\n  searchUsers,\n  deActiveUser,\n  activeUser\n})(AllUsers);","map":{"version":3,"sources":["E:/DoAn_2020/SportTournamentSupportSystem/frontEnd/SportTournamentSupportSystem/src/components/AllUsers/index.tsx"],"names":["React","connect","Skeleton","UserOverview","Paging","SheetData","searchUsers","formatGender","formatUserStatus","queryListUsers","deActiveUser","activeUser","AllUsers","Component","constructor","props","configSheetData","requestData","params","path","param","page","state","activePage","limit","type","searchString","globalSearchString","data","id","onChangeSelectedPage","pageNumber","setState","fixedColumnCount","fixedRowCount","rowHeight","fetchCount","header","label","width","style","justifyContent","element","rowData","rowIndex","status","Number","lastName","firstName","username","gender","dob","email","address","phoneNumber","shouldComponentUpdate","nextProps","nextState","componentDidMount","render","listUsers","Users","length","map","item","index","TotalPage","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'pagination.css';\r\nimport UserOverview from 'components/UserOverview';\r\nimport Paging from 'components/Paging';\r\nimport SheetData, { ISheetDataConfig } from 'components/SheetData';\r\nimport { IBigRequest, IParams } from 'interfaces/common';\r\nimport { IState } from 'redux-saga/reducers';\r\nimport { searchUsers } from 'components/Header/actions';\r\nimport { formatGender, formatUserStatus } from 'utils/common';\r\nimport { queryListUsers, deActiveUser, activeUser } from './actions';\r\nimport './styles.css';\r\n\r\ninterface IAllUsersProps extends React.ClassAttributes<AllUsers> {\r\n  listUsers: IParams | null;\r\n  globalSearchString: string;\r\n  type: 'user' | 'admin';\r\n\r\n  queryListUsers(param: IBigRequest): void;\r\n  searchUsers(param: IBigRequest): void;\r\n  deActiveUser(param: IBigRequest): void;\r\n  activeUser(param: IBigRequest): void;\r\n}\r\n\r\ninterface IAllUsersState {\r\n  activePage: number;\r\n}\r\n\r\nclass AllUsers extends React.Component<IAllUsersProps, IAllUsersState> {\r\n  private configSheetData: ISheetDataConfig;\r\n\r\n  constructor(props: IAllUsersProps) {\r\n    super(props);\r\n    this.state = {\r\n      activePage: 1,\r\n    };\r\n    this.configSheetData = {\r\n      fixedColumnCount: 5,\r\n      fixedRowCount: 1,\r\n      rowHeight: 50,\r\n      fetchCount: 3,\r\n      header: [\r\n        {\r\n          label: 'Cài đặt',\r\n          width: 120,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style} className={'AllUsers-button-text-hover'}>{rowData.status === 'active' ? <p className={'AllUsers-button-text'} onClick={() => this.deActiveUser(Number(rowData.id))}>Hủy kích hoạt</p> : <p className={'AllUsers-button-text'} onClick={() => this.activeUser(Number(rowData.id))}>Kích hoạt</p>}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Id',\r\n          width: 50,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.id}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Họ',\r\n          width: 130,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.lastName}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Tên',\r\n          width: 130,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.firstName}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Tên đăng nhập',\r\n          width: 170,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.username}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Trạng thái',\r\n          width: 120,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{formatUserStatus(rowData.status as string)}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Giới tính',\r\n          width: 70,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{formatGender(rowData.gender as boolean)}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Ngày sinh',\r\n          width: 130,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.dob}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Email',\r\n          width: 300,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.email}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Địa chỉ',\r\n          width: 300,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.address}</div>\r\n          ),\r\n        },\r\n        {\r\n          label: 'Số điện thoại',\r\n          width: 200,\r\n          style: { justifyContent: 'center' },\r\n          element: (rowData: IParams, rowIndex: number, style?: React.CSSProperties) => (\r\n            <div style={style}>{rowData.phoneNumber}</div>\r\n          ),\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: IAllUsersProps, nextState: IAllUsersState) {\r\n    if (this.props.globalSearchString !== nextProps.globalSearchString && nextProps.globalSearchString === '') {\r\n      this.requestData();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.globalSearchString === '') {\r\n      this.requestData();\r\n    }\r\n  }\r\n\r\n  private requestData = () => {\r\n    const params = {\r\n      path: '',\r\n      param: {\r\n        page: this.state.activePage,\r\n        limit: this.props.type === 'user' ? 3 : 10,\r\n        searchString: this.props.globalSearchString,\r\n      },\r\n      data: {},\r\n    }\r\n    this.props.queryListUsers(params);\r\n  }\r\n\r\n  private deActiveUser = (id: number) => {\r\n    const params = {\r\n      path: '',\r\n      param: {\r\n        id,\r\n      },\r\n      data: {},\r\n    }\r\n    this.props.deActiveUser(params);\r\n  }\r\n\r\n  private activeUser = (id: number) => {\r\n    const params = {\r\n      path: '',\r\n      param: {\r\n        id,\r\n      },\r\n      data: {},\r\n    }\r\n    this.props.activeUser(params);\r\n  }\r\n\r\n  private onChangeSelectedPage = (pageNumber: number) => {\r\n    this.setState({ activePage: pageNumber }, () => {\r\n      if (this.props.globalSearchString !== '') {\r\n        const params = {\r\n          path: '',\r\n          param: {\r\n            page: pageNumber,\r\n            limit: this.props.type === 'user' ? 3 : 10,\r\n            searchString: this.props.globalSearchString,\r\n          },\r\n          data: {},\r\n        };\r\n        this.props.searchUsers(params);\r\n      } else {\r\n        this.requestData();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"AllUsers-container-container\">\r\n        <p className=\"AllUsers-header-text\">Danh sách người dùng</p>\r\n        {this.props.globalSearchString !== '' && <p className=\"AllUsers-search-text\">Kết quả tìm kiếm cho: \"{this.props.globalSearchString}\"</p>}\r\n        <div className={`${this.props.type === 'user' ? 'AllUsers-container' : 'AllUsers-container-admin'}`}>\r\n          {this.props.listUsers && this.props.listUsers.Users ? ((this.props.listUsers.Users as unknown as IParams[]).length > 0 ? (this.props.type === 'user' ? (this.props.listUsers.Users as IParams[]).map(\r\n            (item, index) => <UserOverview info={item} index={index} key={index} />) : <SheetData config={this.configSheetData} data={this.props.listUsers.Users as IParams[]} />) : <p>Không tìm thấy kết quả nào!</p>) :\r\n            <Skeleton />\r\n          }\r\n        </div>\r\n        <Paging currentPage={this.state.activePage} totalPage={this.props.listUsers != null ? this.props.listUsers.TotalPage as number : 0} onChangeSelectedPage={this.onChangeSelectedPage} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    listUsers: state.listUsers,\r\n    globalSearchString: state.globalSearchString,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { queryListUsers, searchUsers, deActiveUser, activeUser }\r\n)(AllUsers);"]},"metadata":{},"sourceType":"module"}