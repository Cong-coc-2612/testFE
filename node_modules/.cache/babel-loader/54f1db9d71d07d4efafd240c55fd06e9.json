{"ast":null,"code":"var _jsxFileName = \"E:\\\\DoAn_2020\\\\SportTournamentSupportSystem\\\\frontEnd\\\\SportTournamentSupportSystem\\\\src\\\\screens\\\\CreateNewTournament\\\\index.tsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { isAfter, isBefore } from 'date-fns';\nimport 'react-block-ui/style.css';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport TextInput from 'components/TextInput';\nimport { COOKIES_TYPE } from 'global';\nimport { cookies } from 'utils/cookies';\nimport { createNewTournament } from './actions';\nimport './styles.css';\n\nclass CreateNewTournament extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeTournamentname = value => {\n      this.setState({\n        tournamentName: value\n      });\n    };\n\n    this.onChangeTournamentShortName = value => {\n      this.setState({\n        tournamentShortName: value\n      });\n    };\n\n    this.onChangeTournamentDescription = value => {\n      this.setState({\n        tournamentDescription: value\n      });\n    };\n\n    this.onChangeTournamentDonor = value => {\n      this.setState({\n        donor: value\n      });\n    };\n\n    this.onChangeTournamentStartLocation = value => {\n      this.setState({\n        tournamentStartLocation: value\n      });\n    };\n\n    this.onChangeTournamentEndLocation = value => {\n      this.setState({\n        tournamentEndLocation: value\n      });\n    };\n\n    this.handleChangeStartDate = value => {\n      if (isAfter(value, this.state.endDate)) {\n        this.setState({\n          startDate: value,\n          endDate: value\n        });\n      } else {\n        this.setState({\n          startDate: value\n        });\n      }\n    };\n\n    this.handleChangeEndDate = value => {\n      if (isBefore(value, this.state.startDate)) {\n        this.setState({\n          startDate: value,\n          endDate: value\n        });\n      } else {\n        this.setState({\n          endDate: value\n        });\n      }\n    };\n\n    this.validate = () => {\n      let tournamentNameError = false;\n      let tournamentNameErrorContent = '';\n      let tournamentShortNameErrorContent = '';\n      let tournamentShortNameError = false;\n\n      if (this.state.tournamentName.trim() === '') {\n        tournamentNameError = true;\n        tournamentNameErrorContent = 'Tên giải không được trống';\n      }\n\n      if (this.state.tournamentShortName.trim() === '') {\n        tournamentShortNameError = true;\n        tournamentShortNameErrorContent = 'Tên ngắn của giải không được trống';\n      }\n\n      return {\n        tournamentNameError,\n        tournamentNameErrorContent,\n        tournamentShortNameErrorContent,\n        tournamentShortNameError\n      };\n    };\n\n    this.handleCreateNewTournament = () => {\n      const {\n        tournamentNameError,\n        tournamentNameErrorContent,\n        tournamentShortNameErrorContent,\n        tournamentShortNameError\n      } = this.validate();\n      this.setState({\n        tournamentNameError,\n        tournamentNameErrorContent,\n        tournamentShortNameErrorContent,\n        tournamentShortNameError\n      });\n\n      if (tournamentNameError === true || tournamentShortNameError === true) {\n        return;\n      }\n\n      const params = {\n        path: '',\n        param: {},\n        data: {\n          fullName: this.state.tournamentName,\n          shortName: this.state.tournamentShortName,\n          description: this.state.tournamentDescription,\n          creatorId: cookies.get(COOKIES_TYPE.AUTH_TOKEN).User.id,\n          openingLocation: this.state.tournamentStartLocation,\n          openingTime: this.state.startDate,\n          closingLocation: this.state.tournamentEndLocation,\n          closingTime: this.state.endDate,\n          donor: this.state.donor\n        }\n      };\n      this.props.createNewTournament(params);\n    };\n\n    this.state = {\n      tournamentName: '',\n      tournamentNameError: false,\n      tournamentNameErrorContent: '',\n      tournamentShortName: '',\n      tournamentShortNameError: false,\n      tournamentShortNameErrorContent: '',\n      tournamentDescription: '',\n      tournamentDescriptionError: false,\n      tournamentDescriptionErrorContent: '',\n      tournamentStartLocation: '',\n      tournamentStartLocationError: false,\n      tournamentStartLocationErrorContent: '',\n      tournamentEndLocation: '',\n      tournamentEndLocationError: false,\n      tournamentEndLocationErrorContent: '',\n      donor: '',\n      donorError: false,\n      donorErrorContent: '',\n      startDate: new Date(),\n      endDate: new Date()\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CreateNewTournament-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CreateNewTournament-tournament-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"CreateNewTournament-header-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"T\\u1EA1o m\\u1EDBi gi\\u1EA3i \\u0111\\u1EA5u\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, \"T\\xEAn gi\\u1EA3i:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"Nh\\u1EADp t\\xEAn c\\u1EE7a gi\\u1EA3i\",\n      error: this.state.tournamentNameError,\n      errorContent: this.state.tournamentNameErrorContent,\n      onChangeText: this.onChangeTournamentname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, \"T\\xEAn ng\\u1EAFn:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"Nh\\u1EADp t\\xEAn ng\\u1EAFn c\\u1EE7a gi\\u1EA3i\",\n      error: this.state.tournamentShortNameError,\n      errorContent: this.state.tournamentShortNameErrorContent,\n      onChangeText: this.onChangeTournamentShortName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"M\\xF4 t\\u1EA3:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"Nh\\u1EADp m\\xF4 t\\u1EA3\",\n      error: this.state.tournamentDescriptionError,\n      errorContent: this.state.tournamentDescriptionErrorContent,\n      onChangeText: this.onChangeTournamentDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, \"\\u0110\\u1ECBa \\u0111i\\u1EC3m khai m\\u1EA1c:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"\",\n      error: this.state.tournamentStartLocationError,\n      errorContent: this.state.tournamentStartLocationErrorContent,\n      onChangeText: this.onChangeTournamentStartLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, \"Th\\u1EDDi gian khai m\\u1EA1c:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.startDate,\n      dateFormat: \"dd/MM/yyyy\",\n      onChange: this.handleChangeStartDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, \"\\u0110\\u1ECBa \\u0111i\\u1EC3m b\\u1EBF m\\u1EA1c:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"\",\n      error: this.state.tournamentEndLocationError,\n      errorContent: this.state.tournamentEndLocationErrorContent,\n      onChangeText: this.onChangeTournamentEndLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, \"Th\\u1EDDi gian b\\u1EBF m\\u1EA1c:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.endDate,\n      onChange: this.handleChangeEndDate,\n      dateFormat: \"dd/MM/yyyy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-listManager-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }, \"Nh\\xE0 t\\xE0i tr\\u1EE3:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'CreateNewTournament-tounamentName-container-container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      label: \"\",\n      error: this.state.donorError,\n      errorContent: this.state.donorErrorContent,\n      onChangeText: this.onChangeTournamentDonor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CreateNewTournament-button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CreateNewTournament-button\",\n      onClick: this.handleCreateNewTournament,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"CreateNewTournament-button-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }, \"T\\u1EA1o m\\u1EDBi\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nexport default connect(mapStateToProps, {\n  createNewTournament\n})(CreateNewTournament);","map":{"version":3,"sources":["E:/DoAn_2020/SportTournamentSupportSystem/frontEnd/SportTournamentSupportSystem/src/screens/CreateNewTournament/index.tsx"],"names":["React","connect","isAfter","isBefore","DatePicker","TextInput","COOKIES_TYPE","cookies","createNewTournament","CreateNewTournament","Component","constructor","props","onChangeTournamentname","value","setState","tournamentName","onChangeTournamentShortName","tournamentShortName","onChangeTournamentDescription","tournamentDescription","onChangeTournamentDonor","donor","onChangeTournamentStartLocation","tournamentStartLocation","onChangeTournamentEndLocation","tournamentEndLocation","handleChangeStartDate","state","endDate","startDate","handleChangeEndDate","validate","tournamentNameError","tournamentNameErrorContent","tournamentShortNameErrorContent","tournamentShortNameError","trim","handleCreateNewTournament","params","path","param","data","fullName","shortName","description","creatorId","get","AUTH_TOKEN","User","id","openingLocation","openingTime","closingLocation","closingTime","tournamentDescriptionError","tournamentDescriptionErrorContent","tournamentStartLocationError","tournamentStartLocationErrorContent","tournamentEndLocationError","tournamentEndLocationErrorContent","donorError","donorErrorContent","Date","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { isAfter, isBefore } from 'date-fns';\r\nimport 'react-block-ui/style.css';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport TextInput from 'components/TextInput';\r\nimport { IState } from 'redux-saga/reducers';\r\nimport { IBigRequest } from 'interfaces/common';\r\nimport { COOKIES_TYPE } from 'global';\r\nimport { cookies } from 'utils/cookies';\r\nimport { createNewTournament } from './actions';\r\nimport './styles.css';\r\n\r\ninterface ICreateNewTournamentProps extends React.ClassAttributes<CreateNewTournament> {\r\n  createNewTournament(param: IBigRequest): void;\r\n}\r\n\r\ninterface ICreateNewTournamentState {\r\n  tournamentName: string;\r\n  tournamentNameError: boolean;\r\n  tournamentNameErrorContent: string;\r\n  tournamentShortName: string;\r\n  tournamentShortNameError: boolean;\r\n  tournamentShortNameErrorContent: string;\r\n  tournamentDescription: string;\r\n  tournamentDescriptionError: boolean;\r\n  tournamentDescriptionErrorContent: string;\r\n  tournamentStartLocation: string;\r\n  tournamentStartLocationError: boolean;\r\n  tournamentStartLocationErrorContent: string;\r\n  tournamentEndLocation: string;\r\n  tournamentEndLocationError: boolean;\r\n  tournamentEndLocationErrorContent: string;\r\n  donor: string;\r\n  donorError: boolean;\r\n  donorErrorContent: string;\r\n  startDate: Date;\r\n  endDate: Date;\r\n}\r\n\r\nclass CreateNewTournament extends React.Component<ICreateNewTournamentProps, ICreateNewTournamentState> {\r\n  constructor(props: ICreateNewTournamentProps) {\r\n    super(props);\r\n    this.state = {\r\n      tournamentName: '',\r\n      tournamentNameError: false,\r\n      tournamentNameErrorContent: '',\r\n      tournamentShortName: '',\r\n      tournamentShortNameError: false,\r\n      tournamentShortNameErrorContent: '',\r\n      tournamentDescription: '',\r\n      tournamentDescriptionError: false,\r\n      tournamentDescriptionErrorContent: '',\r\n      tournamentStartLocation: '',\r\n      tournamentStartLocationError: false,\r\n      tournamentStartLocationErrorContent: '',\r\n      tournamentEndLocation: '',\r\n      tournamentEndLocationError: false,\r\n      tournamentEndLocationErrorContent: '',\r\n      donor: '',\r\n      donorError: false,\r\n      donorErrorContent: '',\r\n      startDate: new Date(),\r\n      endDate: new Date(),\r\n    };\r\n  }\r\n\r\n  private onChangeTournamentname = (value: string) => {\r\n    this.setState({ tournamentName: value, });\r\n  }\r\n\r\n  private onChangeTournamentShortName = (value: string) => {\r\n    this.setState({ tournamentShortName: value, });\r\n  }\r\n\r\n  private onChangeTournamentDescription = (value: string) => {\r\n    this.setState({ tournamentDescription: value, });\r\n  }\r\n\r\n  private onChangeTournamentDonor = (value: string) => {\r\n    this.setState({ donor: value, });\r\n  }\r\n\r\n  private onChangeTournamentStartLocation = (value: string) => {\r\n    this.setState({ tournamentStartLocation: value, });\r\n  }\r\n\r\n  private onChangeTournamentEndLocation = (value: string) => {\r\n    this.setState({ tournamentEndLocation: value, });\r\n  }\r\n\r\n  private handleChangeStartDate = (value: Date) => {\r\n    if (isAfter(value, this.state.endDate)) {\r\n      this.setState({\r\n        startDate: value,\r\n        endDate: value,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        startDate: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  private handleChangeEndDate = (value: Date) => {\r\n    if (isBefore(value, this.state.startDate)) {\r\n      this.setState({\r\n        startDate: value,\r\n        endDate: value,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        endDate: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  private validate = () => {\r\n    let tournamentNameError = false;\r\n    let tournamentNameErrorContent = '';\r\n    let tournamentShortNameErrorContent = '';\r\n    let tournamentShortNameError = false;\r\n    if (this.state.tournamentName.trim() === '') {\r\n      tournamentNameError = true;\r\n      tournamentNameErrorContent = 'Tên giải không được trống';\r\n    }\r\n    if (this.state.tournamentShortName.trim() === '') {\r\n      tournamentShortNameError = true;\r\n      tournamentShortNameErrorContent = 'Tên ngắn của giải không được trống';\r\n    }\r\n\r\n    return { tournamentNameError, tournamentNameErrorContent, tournamentShortNameErrorContent, tournamentShortNameError };\r\n  }\r\n\r\n  private handleCreateNewTournament = () => {\r\n    const { tournamentNameError, tournamentNameErrorContent, tournamentShortNameErrorContent, tournamentShortNameError } = this.validate();\r\n    this.setState({\r\n      tournamentNameError,\r\n      tournamentNameErrorContent,\r\n      tournamentShortNameErrorContent,\r\n      tournamentShortNameError\r\n    });\r\n    if (tournamentNameError === true || tournamentShortNameError === true) {\r\n      return;\r\n    }\r\n    const params = {\r\n      path: '',\r\n      param: {},\r\n      data: {\r\n        fullName: this.state.tournamentName,\r\n        shortName: this.state.tournamentShortName,\r\n        description: this.state.tournamentDescription,\r\n        creatorId: cookies.get(COOKIES_TYPE.AUTH_TOKEN).User.id,\r\n        openingLocation: this.state.tournamentStartLocation,\r\n        openingTime: this.state.startDate,\r\n        closingLocation: this.state.tournamentEndLocation,\r\n        closingTime: this.state.endDate,\r\n        donor: this.state.donor,\r\n      },\r\n    };\r\n\r\n    this.props.createNewTournament(params);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"CreateNewTournament-container\">\r\n        <div className=\"CreateNewTournament-tournament-container\">\r\n          <p className=\"CreateNewTournament-header-text\">Tạo mới giải đấu</p>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Tên giải:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='Nhập tên của giải' error={this.state.tournamentNameError} errorContent={this.state.tournamentNameErrorContent} onChangeText={this.onChangeTournamentname} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Tên ngắn:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='Nhập tên ngắn của giải' error={this.state.tournamentShortNameError} errorContent={this.state.tournamentShortNameErrorContent} onChangeText={this.onChangeTournamentShortName} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Mô tả:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='Nhập mô tả' error={this.state.tournamentDescriptionError} errorContent={this.state.tournamentDescriptionErrorContent} onChangeText={this.onChangeTournamentDescription} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Địa điểm khai mạc:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='' error={this.state.tournamentStartLocationError} errorContent={this.state.tournamentStartLocationErrorContent} onChangeText={this.onChangeTournamentStartLocation} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Thời gian khai mạc:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <DatePicker\r\n                selected={this.state.startDate}\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                onChange={this.handleChangeStartDate}\r\n              />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Địa điểm bế mạc:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='' error={this.state.tournamentEndLocationError} errorContent={this.state.tournamentEndLocationErrorContent} onChangeText={this.onChangeTournamentEndLocation} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Thời gian bế mạc:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <DatePicker\r\n                selected={this.state.endDate}\r\n                onChange={this.handleChangeEndDate}\r\n                dateFormat=\"dd/MM/yyyy\"\r\n              />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className={'CreateNewTournament-listManager-container'}>\r\n            <p>Nhà tài trợ:</p>\r\n            <div className={'CreateNewTournament-tounamentName-container-container'}>\r\n              <TextInput label='' error={this.state.donorError} errorContent={this.state.donorErrorContent} onChangeText={this.onChangeTournamentDonor} />\r\n              {/*defaultValue */}\r\n            </div>\r\n          </div>\r\n          <div className=\"CreateNewTournament-button-container\">\r\n            <div className=\"CreateNewTournament-button\" onClick={this.handleCreateNewTournament}>\r\n              <h4 className=\"CreateNewTournament-button-text\">Tạo mới</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createNewTournament }\r\n)(CreateNewTournament);"]},"metadata":{},"sourceType":"module"}