{"ast":null,"code":"import axios from 'axios';\nimport { cookies } from './cookies';\nimport config from 'config';\nimport { COOKIES_TYPE } from 'global';\nexport let METHOD;\n\n(function (METHOD) {\n  METHOD[\"GET\"] = \"get\";\n  METHOD[\"POST\"] = \"post\";\n  METHOD[\"PUT\"] = \"put\";\n  METHOD[\"DELETE\"] = \"delete\";\n})(METHOD || (METHOD = {}));\n\nexport async function query(uri, method, data = {}, params = {}, path) {\n  const baseUrl = config.apiUrl.baseURI;\n  const realUrl = `${baseUrl}${uri}`;\n  return new Promise((resolve, reject) => {\n    switch (method) {\n      case METHOD.POST:\n        {\n          axios.post(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\n            params,\n            data,\n            headers: {\n              \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null\n            }\n          }).then(response => {\n            console.log('response1', uri, response);\n            resolve(response);\n          }).catch(error => {\n            console.log('error1', uri, error);\n            reject(error);\n          });\n          break;\n        }\n\n      case METHOD.PUT:\n        {\n          axios.put(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\n            params,\n            data,\n            headers: {\n              \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null\n            }\n          }).then(response => {\n            console.log('response1', uri, response);\n            resolve(response);\n          }).catch(error => {\n            console.log('error1', uri, error);\n            reject(error);\n          });\n          break;\n        }\n\n      case METHOD.GET:\n        {\n          axios.get(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\n            params,\n            data,\n            headers: {\n              \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null\n            }\n          }).then(response => {\n            console.log('response1', uri, response);\n            resolve(response);\n          }).catch(error => {\n            console.log('error1', uri, error);\n            reject(error);\n          });\n          break;\n        }\n\n      case METHOD.DELETE:\n        {\n          axios.delete(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\n            params,\n            data,\n            headers: {\n              \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null\n            }\n          }).then(response => {\n            console.log('response1', uri, response);\n            resolve(response);\n          }).catch(error => {\n            console.log('error1', uri, error);\n            reject(error);\n          });\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n  });\n}","map":{"version":3,"sources":["E:/testFrontEnd/frontEnd/SportTournamentSupportSystem/src/utils/socketApi.ts"],"names":["axios","cookies","config","COOKIES_TYPE","METHOD","query","uri","method","data","params","path","baseUrl","apiUrl","baseURI","realUrl","Promise","resolve","reject","POST","post","headers","get","AUTH_TOKEN","Authentication","then","response","console","log","catch","error","PUT","put","GET","DELETE","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { IParams, IResponse } from \"interfaces/common\";\r\nimport { cookies } from './cookies';\r\nimport config from 'config';\r\nimport { COOKIES_TYPE } from 'global';\r\n\r\nexport enum METHOD {\r\n  GET = 'get',\r\n  POST = 'post',\r\n  PUT = 'put',\r\n  DELETE = 'delete',\r\n}\r\n\r\nexport async function query<T>(\r\n  uri: string,\r\n  method: METHOD,\r\n  data: IParams = {},\r\n  params: IParams = {},\r\n  path: string | number,\r\n) {\r\n  const baseUrl = config.apiUrl.baseURI;\r\n  const realUrl = `${baseUrl}${uri}`;\r\n\r\n  return new Promise<IResponse<T>>((resolve: Function, reject: Function) => {\r\n    switch (method) {\r\n      case METHOD.POST: {\r\n        axios.post(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          } })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.PUT: {\r\n        axios.put(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.GET: {\r\n        axios.get(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.DELETE: {\r\n        axios.delete(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}"]},"metadata":{},"sourceType":"module"}